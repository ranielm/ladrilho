@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --tile-blue: #006DB2;
  --tile-yellow: #E6A745;
  --tile-red: #D93844;
  --tile-black: #606C76;
  --tile-white: #E8F1F2;
}

body {
  @apply min-h-screen text-white;
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  background: radial-gradient(ellipse at center, #1e293b 0%, #0f172a 50%, #020617 100%);
}

/* Landing Page Styles */
.landing-background {
  background: radial-gradient(ellipse at center, #1e293b 0%, #0f172a 50%, #020617 100%);
  position: relative;
}

.landing-background::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  background-size: 24px 24px;
  pointer-events: none;
}

.glass-card {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.text-tile-white {
  color: #E8F1F2;
}

.landing-btn-primary {
  background: linear-gradient(145deg, #0080CC 0%, #005A99 100%);
  border-bottom: 3px solid #004A7C;
  box-shadow: 0 4px 12px rgba(0, 109, 178, 0.3);
}

.landing-btn-primary:hover {
  background: linear-gradient(145deg, #0090DD 0%, #006DB2 100%);
}

.landing-btn-secondary {
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #E8F1F2;
}

.landing-btn-secondary:hover {
  border-color: rgba(255, 255, 255, 0.4);
}

.tile {
  @apply w-8 h-8 rounded-sm shadow-md transition-transform duration-200 cursor-pointer;
}

.tile:hover {
  @apply transform scale-110;
}

/* Portuguese Tile Palette - Ceramic/Resin look */
.tile-blue {
  background: linear-gradient(145deg, #0080CC 0%, #005A99 100%);
  box-shadow: 0 2px 6px rgba(0, 109, 178, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.tile-yellow {
  background: linear-gradient(145deg, #F0B652 0%, #CC8F38 100%);
  box-shadow: 0 2px 6px rgba(230, 167, 69, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.tile-red {
  background: linear-gradient(145deg, #E84550 0%, #BF2D38 100%);
  box-shadow: 0 2px 6px rgba(217, 56, 68, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.tile-black {
  background: linear-gradient(145deg, #3D444D 0%, #1F252B 100%);
  box-shadow: 0 2px 6px rgba(31, 37, 43, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.tile-white {
  background: linear-gradient(145deg, #F2F8F9 0%, #D8E4E6 100%);
  box-shadow: 0 2px 6px rgba(232, 241, 242, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.5);
  @apply border border-slate-500/30;
}

.tile-first-player {
  @apply bg-gradient-to-br from-teal-500 to-teal-600 text-white flex items-center justify-center text-xs font-bold;
  box-shadow: 0 2px 6px rgba(20, 184, 166, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

/* Peças não completadas na parede - estilo diferente das linhas de padrão */
.tile-empty {
  border: 2px dashed rgba(100, 116, 139, 0.6) !important;
  opacity: 0.4;
  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.4) !important;
  filter: grayscale(0.3);
}

/* Peças completadas - destaque sutil mas visível */
.tile-completed {
  box-shadow: 0 0 6px rgba(255, 255, 255, 0.12), 0 2px 4px rgba(0, 0, 0, 0.25);
  border: 1px solid rgba(255, 255, 255, 0.15);
  filter: brightness(1.05);
}

.factory {
  @apply bg-slate-700 rounded-lg p-3 shadow-lg grid grid-cols-2 gap-2;
}

.pattern-line {
  @apply flex justify-end gap-1;
}

/* Board alignment styles for perfect pattern line and wall alignment */
.board-layout {
  @apply flex flex-col;
}

.pattern-lines-container,
.wall-container {
  @apply flex flex-col gap-1;
}

/* Ensure pattern lines and wall rows have identical heights */
.pattern-line,
.wall-row {
  height: 28px;
  @apply flex items-center;
}

.pattern-line {
  @apply justify-end gap-1 px-2;
}

.wall-row {
  @apply justify-start gap-1;
}

.wall-cell {
  @apply w-8 h-8 rounded-sm bg-slate-800/50;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
}

.wall-cell.filled {
  box-shadow: none;
}

.wall-cell.empty {
  @apply opacity-25;
}

.floor-line {
  @apply flex gap-1 p-2 bg-slate-700 rounded;
}

.player-board {
  @apply bg-slate-800 rounded-xl p-4 shadow-xl;
}

.current-turn {
  @apply ring-4 ring-yellow-400 ring-opacity-75;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-slate-800;
}

::-webkit-scrollbar-thumb {
  @apply bg-slate-600 rounded;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-slate-500;
}

/* ============================================
   MOBILE-FIRST RESPONSIVE STYLES
   ============================================ */

/* Mobile: Stack everything vertically */
@media (max-width: 767px) {
  /* Increase touch targets for tiles */
  .tile {
    @apply w-10 h-10;
    min-width: 40px;
    min-height: 40px;
  }

  .tile-sm {
    @apply w-8 h-8;
    min-width: 32px;
    min-height: 32px;
  }

  /* Larger factory grid for touch */
  .factory {
    @apply p-4 gap-3;
  }

  /* Player board mobile optimization */
  .player-board {
    @apply p-3;
  }

  /* Wall cells larger for touch */
  .wall-cell {
    @apply w-10 h-10;
  }

  /* Floor line touch-friendly */
  .floor-line {
    @apply gap-2 p-3;
  }

  /* Pattern lines touch-friendly */
  .pattern-line {
    @apply gap-2;
  }

  /* Glass card mobile padding */
  .glass-card {
    @apply px-5 py-6;
  }

  /* Buttons larger for touch */
  .landing-btn-primary,
  .landing-btn-secondary {
    @apply py-4 text-base;
    min-height: 52px;
  }

  /* Hide decorative tiles on very small screens */
  .landing-background > .absolute.pointer-events-none {
    display: none;
  }
}

/* Mobile landscape and small tablets */
@media (min-width: 480px) and (max-width: 767px) {
  .tile {
    @apply w-9 h-9;
  }

  .wall-cell {
    @apply w-9 h-9;
  }
}

/* Tablet portrait */
@media (min-width: 768px) and (max-width: 1023px) {
  .tile {
    @apply w-8 h-8;
  }

  .wall-cell {
    @apply w-8 h-8;
  }
}

/* Safe area insets for notched phones */
@supports (padding: max(0px)) {
  body {
    padding-left: max(0px, env(safe-area-inset-left));
    padding-right: max(0px, env(safe-area-inset-right));
    padding-bottom: max(0px, env(safe-area-inset-bottom));
  }
}

/* Prevent text selection on game elements */
.tile,
.wall-cell,
.factory,
.pattern-line,
.floor-line,
.player-board {
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}

/* Active states for touch feedback */
@media (hover: none) {
  .tile:active {
    transform: scale(0.95);
  }

  .landing-btn-primary:active,
  .landing-btn-secondary:active {
    transform: translateY(2px);
  }
}
